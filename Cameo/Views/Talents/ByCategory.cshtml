@using Cameo.Common
@using Microsoft.Extensions.Options;

@inject IOptions<AppConfiguration> AppSettings

@{
    ViewData["Title"] = "Атлеты";
    Layout = "_LayoutDaven";
}

<br />

<div id="talentsContainer">
    <img class="spinner plr--80 plr_lg--50 plr_md--50 plr_sm--30" src="@AppSettings.Value.SpinnerUrl" style="height:40px;" />
    <div class="innerContainer"></div>
</div>

<style>
    .team__style--4 .thumbnail {
        border-radius: 5px;
    }

    .team .thumbnail .team-badge {
        position: absolute;
        /*z-index: 9;*/
        top: 3px;
        left: auto;
        right: 5px;
        color: white;
        font-size: 11px;
        font-weight: 500;
        background: rgba(0,0,0,0.3);
        padding: 0px 3px;
        border-radius: 5px;
    }
</style>
@section Scripts {
    @*<script src="~/lib/jQuery-Autocomplete/jquery.autocomplete.min.js"></script>*@
    <script>
        $(document).ready(function ()
        {
            LoadTalentsByCategory(@ViewBag.categoryID);
        });

        function LoadTalentsByCategory(categoryID)
        {
            $.ajax({
                type: "GET",
                url: "/Talents/GetByCategory",
                data: {
                    categoryID: categoryID,
                    //sort: sort
                },
                contentType: "application/json; charset=utf-8",
                //dataType: "json",
                beforeSend: function ()
                {
                    $("#talentsContainer .spinner").show();
                    $("#talentsContainer .innerContainer").html("");
                },
                success: function (data)
                {
                    $("#talentsContainer .innerContainer").html(data);
                    lozadObserver.observe();
                },
                error: function (data)
                {
                    console.log(data);
                    alert("Ajax error (status code = " + data.status + "): " + data.statusText);
                },
                complete: function (data)
                {
                    $("#talentsContainer .spinner").hide();
                }
            });
        }
    </script>
}